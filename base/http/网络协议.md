#### 三次握手
<image src="https://github.com/minminzhang/phper/blob/main/base/http/WechatIMG45494.png" style="width:70%;"/>

为什么在建立连接的时候需要有三次握手？第三次握手有什么意义？
```
假如建立连接只需要2次握手，那么客户端发出请求连接后，服务端一旦收到请求连接消息便会回复确认请求，并开始建立连接，
但是这个请求连接有可能只是因为网络延迟而迟到的一个无效连接请求，这样服务端发出的确认请求消息并不会被客户端正确处理，
最终导致服务端一直保持连接，造成资源浪费。

加上第3次握手，如果服务端在发出确认连接的消息后，一直没有收到客户端的确认消息，
则会在再次重发几次消息后发送RST数据包强制关闭连接
```

#### 四次挥手
<image src="https://github.com/minminzhang/phper/blob/main/base/http/WechatIMG45496.png" style="width:70%;"/>

4次挥手的流程如下：
- 受限，客户端发送带有 FIN=1 标志的报文段，用于表明没有消息想要发送（此时还可以继续接收来自服务端的消息），请求释放连接。
- 其次，服务端发送带有 ACK=1 标志的报文段，用于表明已经收到客户端的释放连接请求，开始检查自身是否还有消息想要发送。
- 其次，服务端发送带有 FIN=1 标志的报文段，用于表明没有消息想要发送，确认释放连接。
- 最后，客户端发送带有 ACK=1 标志的报文段，用于表明已经收到服务端的释放连接确认，等待 2MSL 后正式关闭连接。
